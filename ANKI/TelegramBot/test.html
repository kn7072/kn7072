<!DOCTYPE html>
<html lang="en">
<style>
    .container {
        display: flex;
        flex-wrap: wrap;
        min-width: 1000px;
    }

    .container-word {
        width: 23%%;
        display: flex;
        flex-direction: column;
        margin: 5px;
        border: 1px solid cornflowerblue;
        padding: 5px;
    }

    .hidden {
        display: none;
    }

    .clickable {
        color: red;
        cursor: pointer;
    }

    .sound {
        color: green;
        cursor: pointer;
        font-weight: bold;
    }

    .delete {
        color: blue;
        cursor: pointer;
    }

    .content {
        color: black;
    }

    .word_en {
        display: flex;
        justify-content: space-between;
    }
    .wrap_delete {
        display: flex;
        align-items: center;
    }
    .mrg_right_checkbox {
        margin-right: 10px;
    }
}
</style>    
<script type="text/javascript">
    
    function myClick(e) {
        var firstChild = e.firstElementChild;
        var classList = firstChild.classList;
        classList.toggle('hidden')
    }

    function send(word, command) {
        var data = {
            word: word
        };

        var boundary = String(Math.random()).slice(2);
        var boundaryMiddle = '--' + boundary + '\r\n';
        var boundaryLast = '--' + boundary + '--\r\n'

        var body = ['\r\n'];
        for (var key in data) {
        // добавление поля
        body.push('Content-Disposition: form-data; name="' + key + '"\r\n\r\n' + data[key] + '\r\n');
        }

        body = body.join(boundaryMiddle) + boundaryLast;

        // Тело запроса готово, отправляем
        var xhr = new XMLHttpRequest();
        
        host_path = "http://192.168.1.54:8088"
        //host_path = "http://localhost:8088"
        request_path = `${host_path}/${command}`
        
        xhr.open("POST", request_path, true );
        // xhr.open("POST", "http://localhost:8088"+ "/sound", true );
       
        xhr.setRequestHeader('Content-Type', 'multipart/form-data; boundary=' + boundary);

        xhr.onreadystatechange = function() {
        if (this.readyState != 4) return;
        console.log( this.responseText );
        }

        xhr.send(body);
    }
    function deleteWord(e, word) {
        var checkbox = e.parentElement.getElementsByClassName('mrg_right_checkbox')[0]
        if(checkbox.checked) {
            send(word, 'delete');
        }
    }

    function listen(e, word) {
        send(word, 'sound');
    }
 </script>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Result Report</title>
</head>
<body>
    <div class="container">
    %s
    </div>
</body>
</html> 
